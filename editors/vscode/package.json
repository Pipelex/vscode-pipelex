{
  "name": "pipelex",
  "displayName": "Pipelex",
  "description": "Pipelex-specialized PML support",
  "version": "0.0.1",
  "autoTag": {
    "enabled": true
  },
  "repository": {
    "url": "https://github.com/Pipelex/pipelex-toml"
  },
  "bugs": {
    "url": "https://github.com/Pipelex/pipelex-toml/issues"
  },
  "publisher": "Pipelex",
  "author": {
    "name": "Pipelex team"
  },
  "preview": true,
  "icon": "taplo-icon.png",
  "galleryBanner": {
    "color": "#731c12",
    "theme": "dark"
  },
  "license": "SEE LICENSE IN LICENSE.md",
  "engines": {
    "vscode": "^1.90.0"
  },
  "categories": [
    "Programming Languages",
    "Linters",
    "Formatters",
    "Other"
  ],
  "activationEvents": [
    "onLanguage:cargoLock"
  ],
  "keywords": [
    "pml",
    "syntax",
    "rust",
    "formatter",
    "config"
  ],
  "extensionKind": [
    "workspace"
  ],
  "contributes": {
    "grammars": [
      {
        "language": "pml",
        "scopeName": "source.pml",
        "path": "./pml.tmLanguage.json"
      },
      {
        "scopeName": "markdown.pml.frontmatter.codeblock",
        "path": "./pml.frontmatter.tmLanguage.json",
        "injectTo": [
          "text.html.markdown"
        ]
      },
      {
        "scopeName": "markdown.pml.codeblock",
        "path": "./pml.markdown.tmLanguage.json",
        "injectTo": [
          "text.html.markdown"
        ],
        "embeddedLanguages": {
          "meta.embedded.block.pml": "pml"
        }
      }
    ],
    "languages": [
      {
        "id": "pml",
        "aliases": [
          "PML"
        ],
        "extensions": [
          ".pml"
        ],
        "filenames": [
          "Cargo.lock",
          "uv.lock"
        ],
        "configuration": "./language-configuration.json"
      }
    ],
    "menus": {
      "commandPalette": [
        {
          "command": "pipelexToml.selectSchema",
          "when": "editorLangId == pml"
        },
        {
          "command": "pipelexToml.copyAsJson"
        },
        {
          "command": "pipelexToml.copyAsToml"
        },
        {
          "command": "pipelexToml.pasteAsJson"
        },
        {
          "command": "pipelexToml.pasteAsToml"
        }
      ]
    },
    "commands": [
      {
        "command": "pipelexToml.selectSchema",
        "title": "PML: Select Schema"
      },
      {
        "command": "pipelexToml.copyAsJson",
        "title": "PML: Copy as JSON",
        "enablement": "editorHasSelection"
      },
      {
        "command": "pipelexToml.copyAsToml",
        "title": "PML: Copy as PML",
        "enablement": "editorHasSelection"
      },
      {
        "command": "pipelexToml.pasteAsJson",
        "title": "PML: Paste as JSON"
      },
      {
        "command": "pipelexToml.pasteAsToml",
        "title": "PML: Paste as PML"
      }
    ],
    "semanticTokenTypes": [
      {
        "id": "pmlArrayKey",
        "superType": "variable",
        "description": "Keys of regular arrays."
      },
      {
        "id": "pmlTableKey",
        "superType": "variable",
        "description": "Keys of inline tables."
      },
      {
        "id": "pmlPipeKey",
        "superType": "variable",
        "description": "Keys for pipe objects at root level."
      },
      {
        "id": "pmlConceptKey",
        "superType": "variable",
        "description": "Keys for concept sections."
      },
      {
        "id": "pmlConcept",
        "superType": "type",
        "description": "PascalCase concept names."
      },
      {
        "id": "pmlPipeType",
        "superType": "type",
        "description": "Pipe type identifiers (PipeLLM, etc.)."
      },
      {
        "id": "pmlDataVariable",
        "superType": "variable",
        "description": "snake_case data variables."
      },
      {
        "id": "pmlPipeName",
        "superType": "function",
        "description": "snake_case pipe names."
      },
      {
        "id": "pmlPipeSection",
        "superType": "keyword",
        "description": "Pipe section headers."
      },
      {
        "id": "pmlConceptSection",
        "superType": "keyword",
        "description": "Concept section headers."
      }
    ],
    "semanticTokenScopes": [
      {
        "scopes": {
          "pmlArrayKey": [
            "support.type.property-name.array.pml"
          ],
          "pmlTableKey": [
            "support.type.property-name.table.pml"
          ],
          "pmlPipeKey": [
            "support.type.property-name.pipe.pml"
          ],
          "pmlConceptKey": [
            "support.type.property-name.concept.pml"
          ],
          "pmlConcept": [
            "support.type.concept.pml",
            "support.type.concept.native.pml"
          ],
          "pmlPipeType": [
            "support.type.pipe-type.pml"
          ],
          "pmlDataVariable": [
            "variable.name.data.pml"
          ],
          "pmlPipeName": [
            "support.function.pipe-name.pml"
          ],
          "pmlPipeSection": [
            "support.type.property-name.pipe.pml"
          ],
          "pmlConceptSection": [
            "support.type.property-name.concept.pml"
          ]
        }
      }
    ],
    "configurationDefaults": {
      "editor.semanticHighlighting.enabled": true,
      "editor.tokenColorCustomizations": {
        "textMateRules": [
          {
            "scope": "support.type.property-name.pipe.pml",
            "settings": {
              "foreground": "#FF6666",
              "fontStyle": "bold"
            }
          },
          {
            "scope": "support.type.pipe-type.pml",
            "settings": {
              "foreground": "#FF6B6B",
              "fontStyle": "bold"
            }
          },
          {
            "scope": "support.type.property-name.concept.pml",
            "settings": {
              "foreground": "#4ECDC4",
              "fontStyle": "bold"
            }
          },
          {
            "scope": "support.type.concept.pml",
            "settings": {
              "foreground": "#4ECDC4",
              "fontStyle": "bold"
            }
          },
          {
            "scope": "support.type.concept.native.pml",
            "settings": {
              "foreground": "#98FB98",
              "fontStyle": "bold"
            }
          },
          {
            "scope": "variable.name.data.pml",
            "settings": {
              "foreground": "#98FB98",
              "fontStyle": "bold"
            }
          },
          {
            "scope": "support.function.pipe-name.pml",
            "settings": {
              "foreground": "#FF6B6B",
              "fontStyle": "bold"
            }
          },
          {
            "scope": "punctuation.definition.data-injection.pml",
            "settings": {
              "foreground": "#FF79C6"
            }
          },
          {
            "scope": "punctuation.definition.template-variable.pml",
            "settings": {
              "foreground": "#FF79C6"
            }
          },
          {
            "scope": "punctuation.definition.jinja.pml",
            "settings": {
              "foreground": "#FF79C6",
              "fontStyle": "bold"
            }
          },
          {
            "scope": "keyword.control.jinja.pml",
            "settings": {
              "foreground": "#8BE9FD"
            }
          },
          {
            "scope": "variable.other.jinja.pml",
            "settings": {
              "foreground": "#50FA7B"
            }
          },
          {
            "scope": "entity.name.tag.html.pml",
            "settings": {
              "foreground": "#FFB86C"
            }
          },
          {
            "scope": "entity.other.attribute-name.html.pml",
            "settings": {
              "foreground": "#F1FA8C"
            }
          },
          {
            "scope": "comment.block.html.pml",
            "settings": {
              "foreground": "#6272A4",
              "fontStyle": "italic"
            }
          }
        ]
      }
    },
    "configuration": {
      "title": "Even Better PML",
      "properties": {
        "pipelexToml.taplo.bundled": {
          "description": "Use the bundled taplo language server. If set to `false`, the `taplo` executable must be found in PATH or must be set in `pipelexToml.taplo.path`.",
          "type": "boolean",
          "scope": "resource",
          "default": true
        },
        "pipelexToml.taplo.path": {
          "description": "An absolute path to the `taplo` executable. `pipelexToml.taplo.bundled` needs to be set to `false` for this to have any effect.",
          "type": [
            "string",
            "null"
          ],
          "scope": "resource",
          "default": null
        },
        "pipelexToml.taplo.environment": {
          "type": [
            "object"
          ],
          "scope": "resource",
          "description": "Environment variables for Taplo.",
          "additionalProperties": {
            "type": "string"
          },
          "default": {}
        },
        "pipelexToml.taplo.extraArgs": {
          "type": [
            "array",
            "null"
          ],
          "scope": "resource",
          "description": "Additional arguments for Taplo. Has no effect for the bundled LSP.",
          "items": {
            "type": "string"
          },
          "default": []
        },
        "pipelexToml.taplo.configFile.path": {
          "description": "An absolute, or workspace relative path to the Taplo configuration file.",
          "type": "string",
          "default": null,
          "scope": "resource"
        },
        "pipelexToml.taplo.configFile.enabled": {
          "description": "Whether to enable the usage of a Taplo configuration file.",
          "type": "boolean",
          "scope": "resource",
          "default": true
        },
        "pipelexToml.semanticTokens": {
          "description": "Enable semantic tokens for inline table and array keys.",
          "type": "boolean",
          "scope": "resource",
          "default": false
        },
        "pipelexToml.schema.enabled": {
          "description": "Enable completion and validation based on JSON schemas.",
          "type": "boolean",
          "scope": "resource",
          "default": true
        },
        "pipelexToml.schema.links": {
          "description": "Whether to show clickable links for keys in the editor.",
          "type": "boolean",
          "scope": "resource",
          "default": false
        },
        "pipelexToml.schema.catalogs": {
          "description": "A list of URLs to schema catalogs where schemas and associations can be fetched from",
          "type": "array",
          "scope": "resource",
          "items": {
            "type": "string"
          },
          "default": [
            "https://json.schemastore.org/api/json/catalog.json"
          ]
        },
        "pipelexToml.schema.associations": {
          "description": "Document and schema associations.",
          "markdownDescription": "Additional document and schema associations. \n\n The key must be a regular expression, this pattern is used to associate schemas with absolute document URIs. Overlapping patterns result in undefined behaviour and either matching schema can be used. \n\n The value must be an absolute URI to the JSON schema, for supported values and more information [read here](https://taplo.tamasfe.dev/configuration#visual-studio-code).",
          "type": "object",
          "scope": "resource",
          "default": {}
        },
        "pipelexToml.schema.cache.memoryExpiration": {
          "description": "The amount of seconds after which schemas will be invalidated from memory.",
          "markdownDescription": "The amount of seconds after which schemas will be invalidated from memory. \n**NOTE**: setting too low values will cause performance issues and validation of some schemas will fail.",
          "type": "integer",
          "scope": "resource",
          "minimum": 0,
          "default": 60
        },
        "pipelexToml.schema.cache.diskExpiration": {
          "description": "The amount of seconds after which cached catalogs and schemas expire and will be attempted to be fetched again.",
          "type": "integer",
          "scope": "resource",
          "minimum": 0,
          "default": 600
        },
        "pipelexToml.completion.maxKeys": {
          "description": "The maximum amount of keys in a dotted key to display during completion, 0 effectively disables key completions.",
          "type": "integer",
          "scope": "resource",
          "minimum": 0,
          "default": 5
        },
        "pipelexToml.syntax.semanticTokens": {
          "description": "Whether to enable semantic tokens for tables and arrays.",
          "type": "boolean",
          "scope": "resource",
          "default": true
        },
        "pipelexToml.formatter.alignEntries": {
          "scope": "resource",
          "type": "boolean",
          "default": null,
          "description": "Align entries vertically. Entries that have table headers, comments, or blank lines between them are not aligned."
        },
        "pipelexToml.formatter.alignComments": {
          "scope": "resource",
          "type": "boolean",
          "default": null,
          "description": "Align consecutive comments after entries and items vertically. This applies to comments that are after entries or array items"
        },
        "pipelexToml.formatter.arrayTrailingComma": {
          "scope": "resource",
          "type": "boolean",
          "default": null,
          "description": "Put trailing commas for multiline arrays."
        },
        "pipelexToml.formatter.arrayAutoExpand": {
          "scope": "resource",
          "type": "boolean",
          "default": null,
          "description": "Automatically expand arrays to multiple lines."
        },
        "pipelexToml.formatter.inlineTableExpand": {
          "scope": "resource",
          "type": "boolean",
          "default": null,
          "description": "Expand values inside in line tables."
        },
        "pipelexToml.formatter.arrayAutoCollapse": {
          "scope": "resource",
          "type": "boolean",
          "default": null,
          "description": "Automatically collapse arrays if they fit in one line."
        },
        "pipelexToml.formatter.compactArrays": {
          "scope": "resource",
          "type": "boolean",
          "default": null,
          "description": "Omit whitespace padding inside single-line arrays."
        },
        "pipelexToml.formatter.compactInlineTables": {
          "scope": "resource",
          "type": "boolean",
          "default": null,
          "description": "Omit whitespace padding inside inline tables."
        },
        "pipelexToml.formatter.compactEntries": {
          "scope": "resource",
          "type": "boolean",
          "default": null,
          "description": "Omit whitespace around `=`."
        },
        "pipelexToml.formatter.columnWidth": {
          "scope": "resource",
          "type": "number",
          "default": null,
          "description": "Target maximum column width after which arrays are expanded into new lines."
        },
        "pipelexToml.formatter.indentTables": {
          "scope": "resource",
          "type": "boolean",
          "default": null,
          "description": "Indent subtables if they come in order."
        },
        "pipelexToml.formatter.indentEntries": {
          "scope": "resource",
          "type": "boolean",
          "default": null,
          "description": "Indent entries under tables."
        },
        "pipelexToml.formatter.indentString": {
          "scope": "resource",
          "type": "string",
          "default": null,
          "description": "Indentation to use, should be tabs or spaces but technically could be anything."
        },
        "pipelexToml.formatter.trailingNewline": {
          "scope": "resource",
          "type": "boolean",
          "default": null,
          "description": "Add trailing newline to the source."
        },
        "pipelexToml.formatter.reorderKeys": {
          "scope": "resource",
          "type": "boolean",
          "default": null,
          "description": "Alphabetically reorder keys that are not separated by blank lines."
        },
        "pipelexToml.formatter.reorderArrays": {
          "scope": "resource",
          "type": "boolean",
          "default": null,
          "description": "Alphabetically reorder array values that are not separated by blank lines."
        },
        "pipelexToml.formatter.reorderInlineTables": {
          "scope": "resource",
          "type": "boolean",
          "default": null,
          "description": "Alphabetically reorder inline tables."
        },
        "pipelexToml.formatter.allowedBlankLines": {
          "scope": "resource",
          "type": "number",
          "default": null,
          "description": "The maximum amount of consecutive blank lines allowed."
        },
        "pipelexToml.formatter.crlf": {
          "scope": "resource",
          "type": "boolean",
          "default": null,
          "description": "Use CRLF line endings."
        },
        "pipelexToml.rules": {
          "scope": "resource",
          "type": "array",
          "default": [],
          "markdownDescription": "Array of Taplo rules in JSON format, see [Configuration File - Rules](https://taplo.tamasfe.dev/configuration/file.html#rules). The rules given here are appended to existing rules from config files, if any. There is no conversion done, all object keys must be snake_case, including formatting rules."
        }
      }
    }
  },
  "main": "./dist/extension.js",
  "browser": "./dist/browser-extension.js",
  "scripts": {
    "vscode:prepublish": "yarn build",
    "open-in-browser": "vscode-test-web --extensionDevelopmentPath=. .",
    "build:syntax": "ts-node --project node.tsconfig.json src/syntax/index.ts",
    "build:browser-extension": "rollup -c rollup.config.browser-extension.mjs",
    "build:browser-server": "rollup -c rollup.config.browser-server.mjs",
    "build:node": "rollup -c rollup.config.mjs",
    "build": "node scripts/build.mjs"
  },
  "dependencies": {
    "@taplo/lsp": "^0.8.0",
    "deep-equal": "^2.2.3",
    "encoding": "^0.1.13",
    "fast-glob": "^3.3.2",
    "node-fetch": "^3.3.2",
    "vscode-languageclient": "^9.0.1",
    "which": "^5.0.0"
  },
  "devDependencies": {
    "@rollup/plugin-commonjs": "^25.0.7",
    "@rollup/plugin-node-resolve": "^15.2.3",
    "@rollup/plugin-replace": "^5.0.5",
    "@types/deep-equal": "^1.0.4",
    "@types/node": "^20.11.9",
    "@types/vscode": "^1.90.0",
    "@types/which": "^3.0.3",
    "@vscode/test-web": "^0.0.51",
    "esbuild": "^0.20.0",
    "rollup": "^4.9.6",
    "rollup-plugin-esbuild": "^6.1.1",
    "ts-node": "^10.9.2",
    "typescript": "^5.3.3"
  },
  "packageManager": "yarn@4.0.2"
}